

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Synthetix &mdash; Synthetix  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utils" href="utils.html" />
    <link rel="prev" title="Oracle Data" href="../guides/oracle_data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Synthetix
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/advanced_usage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/trade_perps.html">Trade Perps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/advanced_perps.html">Advanced Perps Trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/oracle_data.html">Oracle Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Synthetix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.Synthetix"><code class="docutils literal notranslate"><span class="pre">Synthetix</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix._get_tx_params"><code class="docutils literal notranslate"><span class="pre">Synthetix._get_tx_params()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix._load_contracts"><code class="docutils literal notranslate"><span class="pre">Synthetix._load_contracts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix._send_transaction"><code class="docutils literal notranslate"><span class="pre">Synthetix._send_transaction()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.allowance"><code class="docutils literal notranslate"><span class="pre">Synthetix.allowance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.approve"><code class="docutils literal notranslate"><span class="pre">Synthetix.approve()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.execute_transaction"><code class="docutils literal notranslate"><span class="pre">Synthetix.execute_transaction()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.get_eth_balance"><code class="docutils literal notranslate"><span class="pre">Synthetix.get_eth_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.get_susd_balance"><code class="docutils literal notranslate"><span class="pre">Synthetix.get_susd_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.wait"><code class="docutils literal notranslate"><span class="pre">Synthetix.wait()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.Synthetix.wrap_eth"><code class="docutils literal notranslate"><span class="pre">Synthetix.wrap_eth()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.perps.PerpsV3"><code class="docutils literal notranslate"><span class="pre">PerpsV3</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3._prepare_oracle_call"><code class="docutils literal notranslate"><span class="pre">PerpsV3._prepare_oracle_call()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.commit_order"><code class="docutils literal notranslate"><span class="pre">PerpsV3.commit_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_can_liquidate"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_can_liquidate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_can_liquidates"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_can_liquidates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_collateral_balances"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_collateral_balances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_margin_info"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_margin_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_market_summaries"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_market_summaries()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_market_summary"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_market_summary()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_markets"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_markets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_open_position"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_open_position()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_open_positions"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_open_positions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_order"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_quote"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_quote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.get_settlement_strategy"><code class="docutils literal notranslate"><span class="pre">PerpsV3.get_settlement_strategy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.liquidate"><code class="docutils literal notranslate"><span class="pre">PerpsV3.liquidate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.modify_collateral"><code class="docutils literal notranslate"><span class="pre">PerpsV3.modify_collateral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.pay_debt"><code class="docutils literal notranslate"><span class="pre">PerpsV3.pay_debt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.PerpsV3.settle_order"><code class="docutils literal notranslate"><span class="pre">PerpsV3.settle_order()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.perps.BfPerps"><code class="docutils literal notranslate"><span class="pre">BfPerps</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.cancel_stale_order"><code class="docutils literal notranslate"><span class="pre">BfPerps.cancel_stale_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.commit_order"><code class="docutils literal notranslate"><span class="pre">BfPerps.commit_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_can_liquidate"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_can_liquidate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_margin_info"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_margin_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_markets"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_markets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_open_position"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_open_position()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_order"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.get_quote"><code class="docutils literal notranslate"><span class="pre">BfPerps.get_quote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.modify_collateral"><code class="docutils literal notranslate"><span class="pre">BfPerps.modify_collateral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.pay_debt"><code class="docutils literal notranslate"><span class="pre">BfPerps.pay_debt()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.perps.BfPerps.settle_order"><code class="docutils literal notranslate"><span class="pre">BfPerps.settle_order()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.core.Core"><code class="docutils literal notranslate"><span class="pre">Core</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.create_account"><code class="docutils literal notranslate"><span class="pre">Core.create_account()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.delegate_collateral"><code class="docutils literal notranslate"><span class="pre">Core.delegate_collateral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.deposit"><code class="docutils literal notranslate"><span class="pre">Core.deposit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.get_account_ids"><code class="docutils literal notranslate"><span class="pre">Core.get_account_ids()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.get_available_collateral"><code class="docutils literal notranslate"><span class="pre">Core.get_available_collateral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.get_usd_token"><code class="docutils literal notranslate"><span class="pre">Core.get_usd_token()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.mint_usd"><code class="docutils literal notranslate"><span class="pre">Core.mint_usd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.core.Core.withdraw"><code class="docutils literal notranslate"><span class="pre">Core.withdraw()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.spot.Spot"><code class="docutils literal notranslate"><span class="pre">Spot</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot._format_size"><code class="docutils literal notranslate"><span class="pre">Spot._format_size()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot._get_synth_contract"><code class="docutils literal notranslate"><span class="pre">Spot._get_synth_contract()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot._resolve_market"><code class="docutils literal notranslate"><span class="pre">Spot._resolve_market()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.approve"><code class="docutils literal notranslate"><span class="pre">Spot.approve()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.atomic_order"><code class="docutils literal notranslate"><span class="pre">Spot.atomic_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.commit_order"><code class="docutils literal notranslate"><span class="pre">Spot.commit_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_allowance"><code class="docutils literal notranslate"><span class="pre">Spot.get_allowance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_balance"><code class="docutils literal notranslate"><span class="pre">Spot.get_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_markets"><code class="docutils literal notranslate"><span class="pre">Spot.get_markets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_order"><code class="docutils literal notranslate"><span class="pre">Spot.get_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_settlement_strategies"><code class="docutils literal notranslate"><span class="pre">Spot.get_settlement_strategies()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.get_settlement_strategy"><code class="docutils literal notranslate"><span class="pre">Spot.get_settlement_strategy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.settle_order"><code class="docutils literal notranslate"><span class="pre">Spot.settle_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.spot.Spot.wrap"><code class="docutils literal notranslate"><span class="pre">Spot.wrap()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#synthetix.pyth.Pyth"><code class="docutils literal notranslate"><span class="pre">Pyth</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.pyth.Pyth.get_price_from_ids"><code class="docutils literal notranslate"><span class="pre">Pyth.get_price_from_ids()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.pyth.Pyth.get_price_from_symbols"><code class="docutils literal notranslate"><span class="pre">Pyth.get_price_from_symbols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthetix.pyth.Pyth.update_price_feed_ids"><code class="docutils literal notranslate"><span class="pre">Pyth.update_price_feed_ids()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="multicall.html">Multicall</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Synthetix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Synthetix</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/synthetix.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="synthetix">
<h1>Synthetix<a class="headerlink" href="#synthetix" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="synthetix.Synthetix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.</span></span><span class="sig-name descname"><span class="pre">Synthetix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider_rpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_mainnet_rpc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://optimism.llamarpc.com'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ipfs_gateway</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://ipfs.synthetix.io/ipfs/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0x0000000000000000000000000000000000000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perps_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perps_disabled_markets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracking_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0x53594e5448455449585f53444b00000000000000000000000000000000000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referrer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0x0000000000000000000000000000000000000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_price_impact</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_estimate_gas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cannon_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gql_endpoint_perps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gql_endpoint_rates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satsuma_api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_service_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyth_cache_ttl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gas_multiplier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_fork</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix" title="Link to this definition"></a></dt>
<dd><p>The main class for interacting with the Synthetix protocol. The class
requires a provider RPC endpoint and a wallet address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span> <span class="o">=</span> <span class="n">Synthetix</span><span class="p">(</span>
    <span class="n">provider_rpc</span><span class="o">=</span><span class="s1">&#39;https://base-mainnet.infura.io/v3/...&#39;</span><span class="p">,</span>
    <span class="n">network_id</span><span class="o">=</span><span class="mi">8453</span><span class="p">,</span>
    <span class="n">address</span><span class="o">=</span><span class="s1">&#39;0x12345...&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The class can be initialized with a private key to allow for transactions
to be signed and sent to your RPC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span> <span class="o">=</span> <span class="n">Synthetix</span><span class="p">(</span>
    <span class="n">provider_rpc</span><span class="o">=</span><span class="s1">&#39;https://base-mainnet.infura.io/v3/...&#39;</span><span class="p">,</span>
    <span class="n">network_id</span><span class="o">=</span><span class="mi">8453</span><span class="p">,</span>
    <span class="n">address</span><span class="o">=</span><span class="s1">&#39;0x12345...&#39;</span><span class="p">,</span>
    <span class="n">private_key</span><span class="o">=</span><span class="s1">&#39;0xabcde...&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provider_rpc</strong> (<em>str</em>) – An RPC endpoint to use for the provider that interacts
with the smart contracts. This must match the <code class="docutils literal notranslate"><span class="pre">network_id</span></code>.</p></li>
<li><p><strong>op_mainnet_rpc</strong> (<em>str</em>) – An Optimism mainnet RPC endpoint to use for the provider that
fetches deployments from the Cannon registry.</p></li>
<li><p><strong>ipfs_gateway</strong> (<em>str</em>) – An IPFS gateway to use for fetching deployments from Cannon.</p></li>
<li><p><strong>address</strong> (<em>str</em>) – Wallet address to use as a default. If a private key is
specified, this address will be used to sign transactions.</p></li>
<li><p><strong>private_key</strong> (<em>str</em>) – Private key of the provided wallet address. If specified,
the wallet will be enabled to sign and submit transactions.</p></li>
<li><p><strong>network_id</strong> (<em>int</em>) – Network ID for the chain to connect to. This must match
the chain ID of the RPC endpoint.</p></li>
<li><p><strong>core_account_id</strong> (<em>int</em>) – A default <code class="docutils literal notranslate"><span class="pre">account_id</span></code> for core transactions.
Setting a default will avoid the need to specify on each transaction. If
not specified, the first <code class="docutils literal notranslate"><span class="pre">account_id</span></code> will be used.</p></li>
<li><p><strong>perps_account_id</strong> (<em>int</em>) – A default <code class="docutils literal notranslate"><span class="pre">account_id</span></code> for perps transactions.
Setting a default will avoid the need to specify on each transaction. If
not specified, the first <code class="docutils literal notranslate"><span class="pre">account_id</span></code> will be used.</p></li>
<li><p><strong>perps_disabled_markets</strong> (<em>list</em>) – A list of market ids to disable for perps
trading. This is useful for disabling markets that are deprecated, or to
limit the number of markets available for trading.</p></li>
<li><p><strong>tracking_code</strong> (<em>str</em>) – Set a tracking code for trades.</p></li>
<li><p><strong>referrer</strong> (<em>str</em>) – Set a referrer address for trades.</p></li>
<li><p><strong>max_price_impact</strong> (<em>float</em>) – Max price impact setting for trades,
specified as a percentage. This setting applies to both spot and
perps markets.</p></li>
<li><p><strong>use_estimate_gas</strong> (<em>bool</em>) – Use estimate gas for transactions. If false,
it is assumed you will add a gas limit to all transactions.</p></li>
<li><p><strong>gql_endpoint_perps</strong> (<em>str</em>) – GraphQL endpoint for perps data.</p></li>
<li><p><strong>satsuma_api_key</strong> (<em>str</em>) – API key for Satsuma. If the endpoint is from
Satsuma, the API key will be automatically added to the request.</p></li>
<li><p><strong>price_service_endpoint</strong> (<em>str</em>) – Endpoint for a Pyth price service. If
not specified, a default endpoint is used.</p></li>
<li><p><strong>pyth_cache_ttl</strong> (<em>int</em>) – Time to live for Pyth cache in seconds.</p></li>
<li><p><strong>gas_multiplier</strong> (<em>float</em>) – Multiplier for gas estimates. This is used
to increase the gas limit for transactions.</p></li>
<li><p><strong>is_fork</strong> (<em>bool</em>) – Set to true if the chain is a fork. This will improve
the way price data is handled by requesting at the block timestamp.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Synthetix class instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix">Synthetix</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix._get_tx_params">
<span class="sig-name descname"><span class="pre">_get_tx_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxParams</span></span></span><a class="headerlink" href="#synthetix.Synthetix._get_tx_params" title="Link to this definition"></a></dt>
<dd><p>A helper function to prepare transaction parameters. This function
will set up the transaction based on the parameters at initialization,
but leave the <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>int</em>) – value to send with transaction</p></li>
<li><p><strong>to</strong> (<em>str</em><em> | </em><em>None</em>) – address to send transaction to</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A prepared transaction without the <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>TxParams</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix._load_contracts">
<span class="sig-name descname"><span class="pre">_load_contracts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix._load_contracts" title="Link to this definition"></a></dt>
<dd><p>Initializes and sets up contracts according to the connected chain.
On calling this function, the following contracts are connected and set up:
* <code class="docutils literal notranslate"><span class="pre">PerpsV2MarketData</span></code>
* <code class="docutils literal notranslate"><span class="pre">PerpsV2MarketProxy</span></code> (for each V2 market)
* <code class="docutils literal notranslate"><span class="pre">sUSD</span></code> contracts for both V3 and legacy sUSD.
* <code class="docutils literal notranslate"><span class="pre">TrustedMulticallForwarder</span></code> (if available)</p>
<p>These are stored as methods on the base Synthetix object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">susd_token</span><span class="o">.</span><span class="n">address</span>
<span class="go">0x...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>web3 contracts</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>[contract, contract, contract, contract]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix._send_transaction">
<span class="sig-name descname"><span class="pre">_send_transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tx_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix._send_transaction" title="Link to this definition"></a></dt>
<dd><p>Send a prepared transaction to the connected RPC. If the RPC has a signer for
the account in the <cite>from</cite> field, the transaction is sent directly to the RPC.
For other addresses, if a private key is provided, the transaction is signed
and sent to the RPC. Otherwise, this function will raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tx_data</strong> (<em>dict</em>) – transaction data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A transaction hash</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.allowance">
<span class="sig-name descname"><span class="pre">allowance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spender_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#synthetix.Synthetix.allowance" title="Link to this definition"></a></dt>
<dd><p>Get the allowance for a target address to spend a specified ERC20 token for an owner.
This is a general implementation that can be used for any ERC20 token.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span><span class="o">.</span><span class="n">allowance</span><span class="p">(</span>
    <span class="n">snx</span><span class="o">.</span><span class="n">susd_token</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>

    <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">market_proxy</span><span class="o">.</span><span class="n">address</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_address</strong> (<em>str</em>) – address of the token to approve</p></li>
<li><p><strong>spender_address</strong> (<em>str</em>) – address to spender of the token</p></li>
<li><p><strong>owner_address</strong> (<em>str</em>) – address to token owner. If not specified, the default
address is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The allowance for the target address to spend the token for the owner</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.approve">
<span class="sig-name descname"><span class="pre">approve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix.approve" title="Link to this definition"></a></dt>
<dd><p>Approve an address to spend a specified ERC20 token. This is a general
implementation that can be used for any ERC20 token. Specify the amount
as an ether value, otherwise it will default to the maximum amount:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span><span class="o">.</span><span class="n">approve</span><span class="p">(</span>
    <span class="n">snx</span><span class="o">.</span><span class="n">susd_token</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
    <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">market_proxy</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
    <span class="n">amount</span><span class="o">=</span><span class="mi">1000</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_address</strong> (<em>str</em>) – address of the token to approve</p></li>
<li><p><strong>target_address</strong> (<em>str</em>) – address to approve to spend the token</p></li>
<li><p><strong>amount</strong> (<em>float</em>) – amount of the token to approve</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – submit the transaction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns a transaction hash. Otherwise, returns
the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.execute_transaction">
<span class="sig-name descname"><span class="pre">execute_transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tx_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_nonce</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix.execute_transaction" title="Link to this definition"></a></dt>
<dd><p>Execute a provided transaction. This function will be signed with the provided
private key and submitted to the connected RPC. The <code class="docutils literal notranslate"><span class="pre">Synthetix</span></code> object tracks
the nonce internally, and will handle estimating gas limits if they are not
provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tx_data</strong> (<em>dict</em>) – transaction data</p></li>
<li><p><strong>reset_nonce</strong> (<em>bool</em>) – call the RPC to get the current nonce, otherwise use the
stored nonce</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A transaction hash</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.get_eth_balance">
<span class="sig-name descname"><span class="pre">get_eth_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#synthetix.Synthetix.get_eth_balance" title="Link to this definition"></a></dt>
<dd><p>Gets current ETH and WETH balances at the specified address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>address</strong> (<em>str</em>) – address to check balances for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the ETH and WETH balances</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.get_susd_balance">
<span class="sig-name descname"><span class="pre">get_susd_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#synthetix.Synthetix.get_susd_balance" title="Link to this definition"></a></dt>
<dd><p>Gets current sUSD balance in wallet. Supports both legacy and V3 sUSD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<em>str</em>) – address to check balances for</p></li>
<li><p><strong>legacy</strong> (<em>bool</em>) – check legacy sUSD balance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the sUSD balance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.wait">
<span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tx_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">120</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.Synthetix.wait" title="Link to this definition"></a></dt>
<dd><p>Wait for a transaction to be confirmed and return the receipt.
The function will throw an error if the timeout is exceeded.
Use this as a helper function to wait for a transaction to be confirmed,
then check the results and react accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tx_hash</strong> (<em>str</em>) – transaction hash to wait for</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A transaction receipt</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.Synthetix.wrap_eth">
<span class="sig-name descname"><span class="pre">wrap_eth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#synthetix.Synthetix.wrap_eth" title="Link to this definition"></a></dt>
<dd><p>Wraps or unwaps ETH to/from the WETH implementation stored in the constants file.
Negative numbers will unwrap ETH, positive numbers will wrap ETH:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span><span class="o">.</span><span class="n">wrap_eth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">snx</span><span class="o">.</span><span class="n">wrap_eth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>float</em>) – amount of ETH to wrap</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – submit the transaction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns a transaction hash. Otherwise, returns
the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.perps.</span></span><span class="sig-name descname"><span class="pre">PerpsV3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disabled_markets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3" title="Link to this definition"></a></dt>
<dd><p>Class for interacting with Synthetix Perps V3 contracts. Provides methods for
creating and managing accounts, depositing and withdrawing collateral,
committing and settling orders, and liquidating accounts.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">get_</span></code> methods to fetch information about accounts, markets, and orders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markets</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">get_markets</span><span class="p">()</span>
<span class="n">open_positions</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">get_open_positions</span><span class="p">()</span>
</pre></div>
</div>
<p>Other methods prepare transactions, and submit them to your RPC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">collateral_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">modify_collateral</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSD&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">order_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">commit_order</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;ETH&#39;</span><span class="p">,</span> <span class="n">desired_fill_price</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>An instance of this module is available as <code class="docutils literal notranslate"><span class="pre">snx.perps</span></code>. If you are using a network without
perps deployed, the contracts will be unavailable and the methods will raise an error.</p>
<p>The following contracts are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>PerpsMarketProxy</p></li>
<li><p>PerpsAccountProxy</p></li>
<li><p>PythERC7412Wrapper</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snx</strong> (<a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix"><em>Synthetix</em></a>) – An instance of the Synthetix class.</p></li>
<li><p><strong>default_account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The default <code class="docutils literal notranslate"><span class="pre">account_id</span></code> to use for transactions.</p></li>
</ul>
</dd>
</dl>
<p>:param list | None : A list of market ids to disable.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An instance of the Perps class.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Perps</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3._prepare_oracle_call">
<span class="sig-name descname"><span class="pre">_prepare_oracle_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_names:</span> <span class="pre">[&lt;class</span> <span class="pre">'str'&gt;]</span> <span class="pre">=</span> <span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3._prepare_oracle_call" title="Link to this definition"></a></dt>
<dd><p>Prepare a call to the external node with oracle updates for the specified market names.
The result can be passed as the first argument to a multicall function to improve performance
of ERC-7412 calls. If no market names are provided, all markets are fetched. This is useful for
read functions since the user does not pay gas for those oracle calls, and reduces RPC calls and
runtime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market_names</strong> (<em>[</em><em>str</em><em>]</em>) – A list of market names to fetch prices for. If not provided, all markets are fetched.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The address of the oracle contract, the value to send, and the encoded transaction data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, int, str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.commit_order">
<span class="sig-name descname"><span class="pre">commit_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settlement_strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_fill_price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_price_impact</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.commit_order" title="Link to this definition"></a></dt>
<dd><p>Submit an order to the specified market. Keepers will attempt to fill the order
according to the settlement strategy. If <code class="docutils literal notranslate"><span class="pre">desired_fill_price</span></code> is provided, the order
will be filled at that price or better. If <code class="docutils literal notranslate"><span class="pre">max_price_impact</span></code> is provided, the
<code class="docutils literal notranslate"><span class="pre">desired_fill_price</span></code> is calculated from the current market price and the price impact.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em>) – The size of the order to submit.</p></li>
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The id of the settlement strategy to use.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to submit the order to. If not provided, <cite>market_name</cite> must be provided.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to submit the order to. If not provided, <cite>market_id</cite> must be provided.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to submit the order for. Defaults to <cite>default_account_id</cite>.</p></li>
<li><p><strong>desired_fill_price</strong> (<em>float</em><em> | </em><em>None</em>) – The max price for longs and minimum price for shorts. If not provided, one will be calculated based on <cite>max_price_impact</cite>.</p></li>
<li><p><strong>max_price_impact</strong> (<em>float</em><em> | </em><em>None</em>) – The maximum price impact to allow when filling the order as a percentage (1.0 = 1%). If not provided, it will inherit the default value from <cite>snx.max_price_impact</cite>.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <cite>submit</cite>, returns the trasaction hash. Otherwise, returns the transaction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_can_liquidate">
<span class="sig-name descname"><span class="pre">get_can_liquidate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_can_liquidate" title="Link to this definition"></a></dt>
<dd><p>Check if an <code class="docutils literal notranslate"><span class="pre">account_id</span></code> is eligible for liquidation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to check. If not provided, the default account is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean indicating if the account is eligible for liquidation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_can_liquidates">
<span class="sig-name descname"><span class="pre">get_can_liquidates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">account_ids:</span> <span class="pre">[&lt;class</span> <span class="pre">'int'&gt;]</span> <span class="pre">=</span> <span class="pre">[None]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_can_liquidates" title="Link to this definition"></a></dt>
<dd><p>Check if a batch of <code class="docutils literal notranslate"><span class="pre">account_id</span></code> are eligible for liquidation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_ids</strong> (<em>[</em><em>int</em><em>]</em>) – A list of account ids to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples containing the <code class="docutils literal notranslate"><span class="pre">account_id</span></code> and a boolean indicating if the account is eligible for liquidation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[(int, bool)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_collateral_balances">
<span class="sig-name descname"><span class="pre">get_collateral_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_collateral_balances" title="Link to this definition"></a></dt>
<dd><p>Fetch the balance of each collateral type for an account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the collateral balances for. If not provided, the default account is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the collateral balances.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_margin_info">
<span class="sig-name descname"><span class="pre">get_margin_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_margin_info" title="Link to this definition"></a></dt>
<dd><p>Fetch information about an account’s margin requirements and balances.
Accounts must maintain an <code class="docutils literal notranslate"><span class="pre">available_margin</span></code> above the <code class="docutils literal notranslate"><span class="pre">maintenance_margin_requirement</span></code>
to avoid liquidation. Accounts with <code class="docutils literal notranslate"><span class="pre">available_margin</span></code> below the <code class="docutils literal notranslate"><span class="pre">initial_margin_requirement</span></code>
can not interact with their position unless they deposit more collateral.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the margin info for. If not provided, the default account is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the margin information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_market_summaries">
<span class="sig-name descname"><span class="pre">get_market_summaries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_ids:</span> <span class="pre">[&lt;class</span> <span class="pre">'int'&gt;]</span> <span class="pre">=</span> <span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_market_summaries" title="Link to this definition"></a></dt>
<dd><p>Fetch the market summaries for a list of <code class="docutils literal notranslate"><span class="pre">market_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market_ids</strong> (<em>[</em><em>int</em><em>]</em>) – A list of market ids to fetch.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of market summaries in the order of the input <code class="docutils literal notranslate"><span class="pre">market_ids</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_market_summary">
<span class="sig-name descname"><span class="pre">get_market_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_market_summary" title="Link to this definition"></a></dt>
<dd><p>Fetch the market summary for a single market, including
information about the market’s price, open interest, funding rate,
and skew. Provide either the <cite>market_id</cite> or <cite>market_name</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – A market id to fetch the summary for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – A market name to fetch the summary for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the market summary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_markets">
<span class="sig-name descname"><span class="pre">get_markets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_markets" title="Link to this definition"></a></dt>
<dd><p>Fetch the ids and summaries for all perps markets. Market summaries include
information about the market’s price, open interest, funding rate,
and skew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markets_by_name</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ETH&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;market_name&#39;</span><span class="p">:</span> <span class="s1">&#39;ETH&#39;</span><span class="p">,</span>
        <span class="s1">&#39;skew&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">15</span><span class="p">,</span>
        <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;max_open_interest&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;current_funding_rate&#39;</span><span class="p">:</span> <span class="mf">0.000182</span><span class="p">,</span>
        <span class="s1">&#39;current_funding_velocity&#39;</span><span class="p">:</span> <span class="mf">0.00002765</span><span class="p">,</span>
        <span class="s1">&#39;index_price&#39;</span><span class="p">:</span> <span class="mf">1852.59</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">}</span>
    <span class="s1">&#39;BTC&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Market summaries keyed by <cite>market_id</cite> and <cite>market_name</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>(dict, dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_open_position">
<span class="sig-name descname"><span class="pre">get_open_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_open_position" title="Link to this definition"></a></dt>
<dd><p>Fetch the position for a specified account and market. The result includes the unrealized
pnl since the last interaction with this position, any accrued funding, and the position size.
Provide either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or a <code class="docutils literal notranslate"><span class="pre">market_name</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">open_position</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;pnl&#39;</span><span class="p">:</span> <span class="mf">86.56</span><span class="p">,</span>
    <span class="s1">&#39;accrued_funding&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">10.50</span><span class="p">,</span>
    <span class="s1">&#39;position_size&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to fetch the position for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to fetch the position for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the position for. If not provided, the default account is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the position information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_open_positions">
<span class="sig-name descname"><span class="pre">get_open_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_names:</span> <span class="pre">[&lt;class</span> <span class="pre">'str'&gt;]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_ids:</span> <span class="pre">[&lt;class</span> <span class="pre">'int'&gt;]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_open_positions" title="Link to this definition"></a></dt>
<dd><p>Get the open positions for a list of markets.
Provide either a list of <code class="docutils literal notranslate"><span class="pre">market_name</span></code> or <code class="docutils literal notranslate"><span class="pre">market_id</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">open_positions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ETH&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;market_name&#39;</span><span class="p">:</span> <span class="s1">&#39;ETH&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pnl&#39;</span><span class="p">:</span> <span class="mf">86.56</span><span class="p">,</span>
        <span class="s1">&#39;accrued_funding&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">10.50</span><span class="p">,</span>
        <span class="s1">&#39;position_size&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;BTC&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_names</strong> (<em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – A list of market names to fetch the positions for.</p></li>
<li><p><strong>market_ids</strong> (<em>[</em><em>int</em><em>] </em><em>| </em><em>None</em>) – A list of market ids to fetch the positions for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the positions for. If not provided, the default account is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the position information keyed by <code class="docutils literal notranslate"><span class="pre">market_name</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_order">
<span class="sig-name descname"><span class="pre">get_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_settlement_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_order" title="Link to this definition"></a></dt>
<dd><p>Fetches the open order for an account.
Optionally fetches the settlement strategy, which can be useful for order settlement and debugging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account. If not provided, the default account is used.</p></li>
<li><p><strong>fetch_settlement_strategy</strong> (<em>bool</em><em> | </em><em>None</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, fetch the settlement strategy information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with order information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_quote">
<span class="sig-name descname"><span class="pre">get_quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settlement_strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_required_margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_quote" title="Link to this definition"></a></dt>
<dd><p>Get a quote for the size of an order in a specified market. The quote includes
the provided price and the fill price of the order after price impact. If a price
is not provided, a price will be fetched from Pyth. Provide either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code>
or <code class="docutils literal notranslate"><span class="pre">market_name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>float</em>) – The size of the order to quote.</p></li>
<li><p><strong>price</strong> (<em>float</em><em> | </em><em>None</em>) – The price to quote the order at. If not provided, the current market price is used.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to quote the order for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to quote the order for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to quote the order for. If not provided, the default account is used.</p></li>
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The id of the settlement strategy to use for the settlement reward calculation.</p></li>
<li><p><strong>include_required_margin</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, include the required margin for the account in the quote.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the quote information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.get_settlement_strategy">
<span class="sig-name descname"><span class="pre">get_settlement_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settlement_strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.get_settlement_strategy" title="Link to this definition"></a></dt>
<dd><p>Fetch the settlement strategy for a market. Settlement strategies describe the
conditions under which an order can be settled. Provide either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code>
or <code class="docutils literal notranslate"><span class="pre">market_name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The id of the settlement strategy to fetch.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to fetch the settlement strategy for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to fetch the settlement strategy for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the settlement strategy information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.liquidate">
<span class="sig-name descname"><span class="pre">liquidate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">static</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.liquidate" title="Link to this definition"></a></dt>
<dd><p>Submit a liquidation for an account, or static call the liquidation function to fetch
the liquidation reward. The static call is important for accounts which have been
partially liquidated. Due to the throughput limit on liquidated value, the static call
returning a nonzero value means more value can be liquidated (and rewards collected).
This function can not be called if <code class="docutils literal notranslate"><span class="pre">submit</span></code> and <code class="docutils literal notranslate"><span class="pre">static</span></code> are true.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to liquidate. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
<li><p><strong>static</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, static call the liquidation function to fetch the liquidation reward.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns the trasaction hash. If <code class="docutils literal notranslate"><span class="pre">static</span></code>, returns the liquidation reward. Otherwise, returns the transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict | float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.modify_collateral">
<span class="sig-name descname"><span class="pre">modify_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.modify_collateral" title="Link to this definition"></a></dt>
<dd><p>Move collateral in or out of a specified perps account. The <code class="docutils literal notranslate"><span class="pre">market_id</span></code>
or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> must be provided to specify the collateral type.
Provide either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or a <code class="docutils literal notranslate"><span class="pre">market_name</span></code>.  Note that the <code class="docutils literal notranslate"><span class="pre">market_id</span></code>
here refers to the spot market id, not the perps market id. Make sure to approve
the market proxy to transfer tokens of the collateral type before calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>int</em>) – The amount of collateral to move. Positive values deposit collateral, negative values withdraw collateral.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to move collateral for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to move collateral for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to move collateral for. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns the trasaction hash. Otherwise, returns the transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.pay_debt">
<span class="sig-name descname"><span class="pre">pay_debt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.pay_debt" title="Link to this definition"></a></dt>
<dd><p>Pay the debt of a perps account. If no amount is provided, the full debt
of the account is repaid. Make sure to approve the proxy to transfer sUSD before
calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>int</em><em> | </em><em>None</em>) – The amount of debt to repay. If not provided, the full debt is repaid.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to repay the debt for. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns the trasaction hash. Otherwise, returns the transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.PerpsV3.settle_order">
<span class="sig-name descname"><span class="pre">settle_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tx_tries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.PerpsV3.settle_order" title="Link to this definition"></a></dt>
<dd><p>Settles an order using ERC7412 by handling <code class="docutils literal notranslate"><span class="pre">OracleDataRequired</span></code> errors and forming a multicall.
If the order is not yet ready to be settled, this function will wait until the settlement time.
If the transaction fails, this function will retry until the max number of tries is reached with a
configurable delay.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to settle. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
<li><p><strong>max_tx_tries</strong> (<em>int</em>) – The max number of tries to submit the transaction.</p></li>
<li><p><strong>tx_delay</strong> (<em>int</em>) – The delay in seconds between transaction submissions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.perps.</span></span><span class="sig-name descname"><span class="pre">BfPerps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps" title="Link to this definition"></a></dt>
<dd><p>Class for interacting with Synthetix Perps contracts on L1. Provides methods for
creating and managing accounts, depositing and withdrawing collateral,
committing and settling orders, and liquidating accounts.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">get_</span></code> methods to fetch information about accounts, markets, and orders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markets</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">get_markets</span><span class="p">()</span>
<span class="n">open_positions</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">get_open_positions</span><span class="p">()</span>
</pre></div>
</div>
<p>Other methods prepare transactions, and submit them to your RPC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">collateral_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">modify_collateral</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSD&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">order_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">commit_order</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;ETH&#39;</span><span class="p">,</span> <span class="n">desired_fill_price</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>An instance of this module is available as <code class="docutils literal notranslate"><span class="pre">snx.perps</span></code>. If you are using a network without
perps deployed, the contracts will be unavailable and the methods will raise an error.</p>
<p>The following contracts are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>PerpsMarketProxy</p></li>
<li><p>PerpsAccountProxy</p></li>
<li><p>PythERC7412Wrapper</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snx</strong> (<a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix"><em>Synthetix</em></a>) – An instance of the Synthetix class.</p></li>
<li><p><strong>pyth</strong> (<a class="reference internal" href="#synthetix.pyth.Pyth" title="synthetix.pyth.Pyth"><em>Pyth</em></a>) – An instance of the Pyth class.</p></li>
<li><p><strong>default_account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The default <code class="docutils literal notranslate"><span class="pre">account_id</span></code> to use for transactions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of the Perps class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Perps</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.cancel_stale_order">
<span class="sig-name descname"><span class="pre">cancel_stale_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.cancel_stale_order" title="Link to this definition"></a></dt>
<dd><p>Cancels and order for the specified account and market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to cancel the order for. If not provided, uses the default account.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to cancel the order in.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to cancel the order in.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction to the blockchain. If False, return the transaction parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If submit is True, returns the transaction hash. Otherwise, returns the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.commit_order">
<span class="sig-name descname"><span class="pre">commit_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keeper_fee_buffer_usd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hooks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.commit_order" title="Link to this definition"></a></dt>
<dd><p>Commit an order to the specified market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>float</em>) – The size of the order to submit. Positive for long, negative for short.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to submit the order to.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to submit the order to.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to submit the order for. Defaults to default_account_id.</p></li>
<li><p><strong>limit_price</strong> (<em>float</em><em> | </em><em>None</em>) – The limit price for the order. If not provided, will use the current oracle price.</p></li>
<li><p><strong>keeper_fee_buffer_usd</strong> (<em>float</em>) – Additional keeper fee buffer in USD.</p></li>
<li><p><strong>hooks</strong> (<em>list</em><em> | </em><em>None</em>) – List of settlement hook addresses.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction to the blockchain. If False, return the transaction parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If submit is True, returns the transaction hash. Otherwise, returns the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_can_liquidate">
<span class="sig-name descname"><span class="pre">get_can_liquidate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_can_liquidate" title="Link to this definition"></a></dt>
<dd><p>Check if an <code class="docutils literal notranslate"><span class="pre">account_id</span></code> is eligible for liquidation on a specified market</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to check. If not provided, the default account is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean indicating if the account is eligible for liquidation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_margin_info">
<span class="sig-name descname"><span class="pre">get_margin_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_margin_info" title="Link to this definition"></a></dt>
<dd><p>Fetch comprehensive information about an account’s margin requirements, balances, and position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the margin info for. If not provided, the default account is used.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to fetch the margin info for. Required parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with detailed margin and position information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_markets">
<span class="sig-name descname"><span class="pre">get_markets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_markets" title="Link to this definition"></a></dt>
<dd><p>Fetch the ids and summaries for all perps markets. Market summaries include
information about the market’s price, open interest, funding rate,
and skew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markets_by_name</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ETH&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;market_id&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;market_name&#39;</span><span class="p">:</span> <span class="s1">&#39;ETH&#39;</span><span class="p">,</span>
        <span class="s1">&#39;skew&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">15</span><span class="p">,</span>
        <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s1">&#39;max_open_interest&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
        <span class="s1">&#39;current_funding_rate&#39;</span><span class="p">:</span> <span class="mf">0.000182</span><span class="p">,</span>
        <span class="s1">&#39;current_funding_velocity&#39;</span><span class="p">:</span> <span class="mf">0.00002765</span><span class="p">,</span>
        <span class="s1">&#39;index_price&#39;</span><span class="p">:</span> <span class="mf">1852.59</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">}</span>
    <span class="s1">&#39;BTC&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Market summaries keyed by <cite>market_id</cite> and <cite>market_name</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>(dict, dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_open_position">
<span class="sig-name descname"><span class="pre">get_open_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_open_position" title="Link to this definition"></a></dt>
<dd><p>Fetch the position for a specified account and market. The result includes detailed
information about the position, including unrealized PnL, funding, size, and various margins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to fetch the position for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to fetch the position for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to fetch the position for. If not provided, the default account is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with comprehensive position information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_order">
<span class="sig-name descname"><span class="pre">get_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_order" title="Link to this definition"></a></dt>
<dd><p>Fetches the open order for an account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account. If not provided, the default account is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with order information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.get_quote">
<span class="sig-name descname"><span class="pre">get_quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keeper_fee_buffer_usd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.get_quote" title="Link to this definition"></a></dt>
<dd><p>Get a quote for the size of an order in a specified market. The quote includes
the fill price of the order after price impact, estimated fees, and other relevant information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>float</em>) – The size of the order to quote (positive for long, negative for short).</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to quote the order for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to quote the order for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to quote the order for. If not provided, the default account is used.</p></li>
<li><p><strong>keeper_fee_buffer_usd</strong> (<em>float</em>) – Additional keeper fee buffer in USD.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the quote information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.modify_collateral">
<span class="sig-name descname"><span class="pre">modify_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collateral_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.modify_collateral" title="Link to this definition"></a></dt>
<dd><p>Modify the collateral for a specified account and market. Positive amounts deposit
collateral, while negative amounts withdraw collateral.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>float</em>) – The amount of collateral to modify. Positive values deposit, negative values withdraw.</p></li>
<li><p><strong>collateral_address</strong> (<em>str</em>) – The address of the collateral token to modify.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to modify collateral for.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to modify collateral for.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to modify collateral for. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction to the blockchain. If False, return the transaction parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If submit is True, returns the transaction hash. Otherwise, returns the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.pay_debt">
<span class="sig-name descname"><span class="pre">pay_debt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.pay_debt" title="Link to this definition"></a></dt>
<dd><p>Pay the debt of a perps account. If no amount is provided, the full debt
of the account is repaid. Make sure to approve the proxy to transfer sUSD before
calling this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>int</em><em> | </em><em>None</em>) – The amount of debt to repay. If not provided, the full debt is repaid.</p></li>
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to repay the debt for. If not provided, the default account is used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, submit the transaction to the blockchain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If <code class="docutils literal notranslate"><span class="pre">submit</span></code>, returns the trasaction hash. Otherwise, returns the transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.perps.BfPerps.settle_order">
<span class="sig-name descname"><span class="pre">settle_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_attempts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attempt_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.perps.BfPerps.settle_order" title="Link to this definition"></a></dt>
<dd><p>Settle an open order for the specified account and market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the account to settle the order for. If not provided, uses the default account.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market to settle the order in.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market to settle the order in.</p></li>
<li><p><strong>max_attempts</strong> (<em>int</em>) – Maximum number of attempts to settle the order.</p></li>
<li><p><strong>attempt_delay</strong> (<em>int</em>) – Delay in seconds between settlement attempts.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction to the blockchain. If False, return the transaction parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If submit is True, returns the transaction hash. Otherwise, returns the transaction parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="synthetix.core.Core">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.core.</span></span><span class="sig-name descname"><span class="pre">Core</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core" title="Link to this definition"></a></dt>
<dd><p>Class for interacting with Synthetix V3 core contracts.</p>
<p>Provides methods for creating accounts, depositing and delegating
collateral, minting sUSD, and interacting with liquidity pools.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">get_</span></code> methods to fetch information about accounts, collateral,
and pools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">account_ids</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_account_ids</span><span class="p">()</span>
<span class="n">usd_token</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_usd_token</span><span class="p">()</span>
<span class="n">available_collateral</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">get_available_collateral</span><span class="p">()</span>
</pre></div>
</div>
<p>Other methods prepare transactions to create accounts, deposit collateral,
mint sUSD, etc. and submit them to the user’s RPC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_account_tx</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">create_account</span><span class="p">(</span><span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">deposit_tx</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;USDC&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mint_tx</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">mint_usd</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>An instance of this module is available as <code class="docutils literal notranslate"><span class="pre">snx.core</span></code>. If you are using a
network without core contracts deployed, the contracts will be unavailable and
the methods will raise an error.</p>
<p>The following contracts are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>CoreProxy</p></li>
<li><p>AccountProxy</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snx</strong> (<a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix"><em>Synthetix</em></a>) – An instance of the Synthetix class</p></li>
<li><p><strong>default_account_id</strong> (<em>int</em>) – The default account ID to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of the Core class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#synthetix.core.Core" title="synthetix.core.Core">Core</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.create_account">
<span class="sig-name descname"><span class="pre">create_account</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.create_account" title="Link to this definition"></a></dt>
<dd><p>Create a new Synthetix account on the core system.</p>
<p>This function will mint an account NFT to the connected address. Each account
can have separate LP positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_id</strong> (<em>int</em>) – The ID of the new account. If not provided,
the next available ID will be used.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, immediately submit the transaction to
the blockchain. If False, build the transaction but do not submit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction hash if submitted, else the unsigned transaction data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.delegate_collateral">
<span class="sig-name descname"><span class="pre">delegate_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leverage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.delegate_collateral" title="Link to this definition"></a></dt>
<dd><p>Delegate collateral for an account to a pool. In order to delegate,
the account must have undelegated collateral for <code class="docutils literal notranslate"><span class="pre">token_address</span></code> and
the pool must be accepting collateral for <code class="docutils literal notranslate"><span class="pre">token_address</span></code>.</p>
<p>Delegates an <code class="docutils literal notranslate"><span class="pre">amount</span></code> of <code class="docutils literal notranslate"><span class="pre">token_address</span></code> collateral to <code class="docutils literal notranslate"><span class="pre">pool_id</span></code> with
<code class="docutils literal notranslate"><span class="pre">leverage</span></code> ratio from <code class="docutils literal notranslate"><span class="pre">account_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_address</strong> (<em>str</em>) – The address of the collateral token to delegate.</p></li>
<li><p><strong>amount</strong> (<em>float</em>) – The amount of collateral to delegate.</p></li>
<li><p><strong>pool_id</strong> (<em>int</em>) – The ID of the pool to delegate to.</p></li>
<li><p><strong>leverage</strong> (<em>float</em>) – The leverage ratio, default 1.</p></li>
<li><p><strong>account_id</strong> (<em>int</em>) – The account ID. Uses default if not provided.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction hash if submitted, else the unsigned transaction</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.deposit">
<span class="sig-name descname"><span class="pre">deposit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">18</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.deposit" title="Link to this definition"></a></dt>
<dd><p>Deposit collateral into the specified account. In order to deposit,
the <code class="docutils literal notranslate"><span class="pre">token_address</span></code> must be enabled as collateral on the core system.</p>
<p>Deposits an <code class="docutils literal notranslate"><span class="pre">amount</span></code> of <code class="docutils literal notranslate"><span class="pre">token</span></code> as collateral into the <code class="docutils literal notranslate"><span class="pre">account_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>int</em>) – The amount of tokens to deposit as collateral.</p></li>
<li><p><strong>token</strong> (<em>str</em>) – The address of the token to deposit.</p></li>
<li><p><strong>account_id</strong> (<em>int</em>) – The ID of the account to deposit into. Uses default if not provided.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, immediately submit the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction hash if submitted, else the unsigned transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.get_account_ids">
<span class="sig-name descname"><span class="pre">get_account_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.get_account_ids" title="Link to this definition"></a></dt>
<dd><p>Get the core account IDs owned by an address.</p>
<p>Fetches the account IDs for the given address by checking the balance of
the AccountProxy contract, which is an NFT owned by the address.
If no address is provided, uses the connected wallet address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<em>str</em>) – The address to get accounts for. Uses connected address if not provided.</p></li>
<li><p><strong>default_account_id</strong> (<em>int</em>) – The default account ID to set after fetching.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of account IDs owned by the address.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.get_available_collateral">
<span class="sig-name descname"><span class="pre">get_available_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.get_available_collateral" title="Link to this definition"></a></dt>
<dd><p>Get the available collateral for an account for a specified collateral type
of <code class="docutils literal notranslate"><span class="pre">token_address</span></code>.</p>
<p>Fetches the amount of undelegated collateral available for withdrawal
for a given token and account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_address</strong> (<em>str</em>) – The address of the collateral token.</p></li>
<li><p><strong>account_id</strong> (<em>int</em>) – The ID of the account to check. Uses default if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The available collateral as an ether value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.get_usd_token">
<span class="sig-name descname"><span class="pre">get_usd_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.get_usd_token" title="Link to this definition"></a></dt>
<dd><p>Get the address of the USD stablecoin token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.mint_usd">
<span class="sig-name descname"><span class="pre">mint_usd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.mint_usd" title="Link to this definition"></a></dt>
<dd><p>Mint sUSD to a core account. In order to mint, the account must have
capacity to mint given the settings of the pool.</p>
<p>Mints <code class="docutils literal notranslate"><span class="pre">amount</span></code> of sUSD against <code class="docutils literal notranslate"><span class="pre">token_address</span></code> collateral in <code class="docutils literal notranslate"><span class="pre">pool_id</span></code>
for <code class="docutils literal notranslate"><span class="pre">account_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_address</strong> (<em>str</em>) – The collateral token address.</p></li>
<li><p><strong>amount</strong> (<em>float</em>) – The amount of sUSD to mint.</p></li>
<li><p><strong>pool_id</strong> (<em>int</em>) – The ID of the pool to mint against.</p></li>
<li><p><strong>account_id</strong> (<em>int</em>) – The account ID. Uses default if not provided.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, submit the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction hash if submitted, else the unsigned transaction</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.core.Core.withdraw">
<span class="sig-name descname"><span class="pre">withdraw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">18</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">account_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.core.Core.withdraw" title="Link to this definition"></a></dt>
<dd><p>Withdraw collateral from the specified account. In order to withdraw,
the account must have undelegated collateral for <code class="docutils literal notranslate"><span class="pre">token_address</span></code> and
must be past the withdrawal delay.</p>
<p>Withdraws an <cite>amount</cite> of <cite>token</cite> collateral from the <cite>account_id</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>int</em>) – The amount of tokens to withdraw from the account.</p></li>
<li><p><strong>token</strong> (<em>str</em>) – The address of the token to withdraw.</p></li>
<li><p><strong>account_id</strong> (<em>int</em>) – The ID of the account to withdraw from. Uses default if not provided.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – If True, immediately submit the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction hash if submitted, else the unsigned transaction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="synthetix.spot.Spot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.spot.</span></span><span class="sig-name descname"><span class="pre">Spot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot" title="Link to this definition"></a></dt>
<dd><p>Class for interacting with Synthetix V3 spot market contracts. Provider methods for
wrapping and unwrapping assets, approvals, atomic orders, and async orders.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">get_</span></code> methods to fetch information about balances, allowances, and markets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markets_by_id</span><span class="p">,</span> <span class="n">markets_by_name</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">perps</span><span class="o">.</span><span class="n">get_markets</span><span class="p">()</span>
<span class="n">balance</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSD&#39;</span><span class="p">)</span>
<span class="n">allowance</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">get_allowance</span><span class="p">(</span><span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">market_proxy</span><span class="o">.</span><span class="n">address</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSD&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other methods prepare transactions, and submit them to your RPC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wrap_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSDC&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">unwrap_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSDC&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">atomic_buy_tx_hash</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">atomic_order</span><span class="p">(</span><span class="s1">&#39;buy&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSDC&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>An instance of this module is available as <code class="docutils literal notranslate"><span class="pre">snx.spot</span></code>. If you are using a network without
spot contracts deployed, the contracts will be unavailable and the methods will raise an error.</p>
<p>The following contracts are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>SpotMarketProxy</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snx</strong> (<a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix"><em>Synthetix</em></a>) – An instance of the Synthetix class.</p></li>
<li><p><strong>pyth</strong> (<a class="reference internal" href="#synthetix.pyth.Pyth" title="synthetix.pyth.Pyth"><em>Pyth</em></a>) – An instance of the Pyth class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of the Spot class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#synthetix.spot.Spot" title="synthetix.spot.Spot">Spot</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot._format_size">
<span class="sig-name descname"><span class="pre">_format_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot._format_size" title="Link to this definition"></a></dt>
<dd><p>Format the size of a synth for an order. This is used for synths whose base asset
does not use 18 decimals. For example, USDC uses 6 decimals, so we need to handle size
differently from other assets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>float</em>) – The size as an ether value (e.g. 100).</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The id of the market.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted size in wei. (e.g. 100 = 100000000000000000000)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot._get_synth_contract">
<span class="sig-name descname"><span class="pre">_get_synth_contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot._get_synth_contract" title="Link to this definition"></a></dt>
<dd><p>Private method to fetch the underlying synth contract for a market. Synths are
represented as an ERC20 token, so this is useful to do things like check allowances
or transfer tokens. This method requires a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A contract object for the underlying synth.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>web3.eth.Contract</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot._resolve_market">
<span class="sig-name descname"><span class="pre">_resolve_market</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot._resolve_market" title="Link to this definition"></a></dt>
<dd><p>Look up the market_id and market_name for a market. If only one is provided,
the other is resolved. If both are provided, they are checked for consistency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market. If not known, provide <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market. If not known, provide <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <code class="docutils literal notranslate"><span class="pre">market_id</span></code> and <code class="docutils literal notranslate"><span class="pre">market_name</span></code> for the market.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.approve">
<span class="sig-name descname"><span class="pre">approve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.approve" title="Link to this definition"></a></dt>
<dd><p>Approve an address to transfer a specified synth from the connected address.</p>
<p>Approves the <code class="docutils literal notranslate"><span class="pre">target_address</span></code> to transfer up to the <code class="docutils literal notranslate"><span class="pre">amount</span></code> from your account.
If <code class="docutils literal notranslate"><span class="pre">amount</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, approves the maximum possible amount.</p>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_address</strong> (<em>str</em>) – The address to approve.</p></li>
<li><p><strong>amount</strong> (<em>int</em>) – The amount in ether to approve. Default is max uint256.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – Whether to broadcast the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction dict if submit=False, otherwise the tx hash.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.atomic_order">
<span class="sig-name descname"><span class="pre">atomic_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'buy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sell'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slippage_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount_received</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.atomic_order" title="Link to this definition"></a></dt>
<dd><p>Execute an atomic order on the spot market.</p>
<p>Atomically executes a buy or sell order for the given size.</p>
<p>Amounts are transferred directly, no need to settle later. This function
is useful for swapping sUSDC with sUSD on Base Andromeda contracts. The default
slippage is set to zero, since sUSDC and sUSD can be swapped 1:1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atomic_order</span><span class="p">(</span><span class="s2">&quot;sell&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s2">&quot;sUSDC&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>side</strong> (<em>Literal</em><em>[</em><em>&quot;buy&quot;</em><em>, </em><em>&quot;sell&quot;</em><em>]</em>) – The side of the order (buy/sell).</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The order size in ether.</p></li>
<li><p><strong>slippage_tolerance</strong> (<em>float</em>) – The slippage tolerance for the order as a percentage (0.01 = 1%). Default is 0.</p></li>
<li><p><strong>min_amount_received</strong> (<em>int</em>) – The minimum amount to receive in ether units. This will override the slippage_tolerance.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – Whether to broadcast the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction dict if submit=False, otherwise the tx hash.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.commit_order">
<span class="sig-name descname"><span class="pre">commit_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'buy'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sell'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slippage_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount_received</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settlement_strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.commit_order" title="Link to this definition"></a></dt>
<dd><p>Commit an async order to the spot market.</p>
<p>Commits a buy or sell order of the given size. The order will be settled
according to the settlement strategy.</p>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>side</strong> (<em>Literal</em><em>[</em><em>&quot;buy&quot;</em><em>, </em><em>&quot;sell&quot;</em><em>]</em>) – The side of the order (buy/sell).</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The order size in ether. If <code class="docutils literal notranslate"><span class="pre">side</span></code> is “buy”, this is the amount
of the synth to buy. If <code class="docutils literal notranslate"><span class="pre">side</span></code> is “sell”, this is the amount of the synth to sell.</p></li>
<li><p><strong>slippage_tolerance</strong> (<em>float</em>) – The slippage tolerance for the order as a percentage (0.01 = 1%). Default is 0.</p></li>
<li><p><strong>min_amount_received</strong> (<em>int</em>) – The minimum amount to receive in ether units. This will override the slippage_tolerance.</p></li>
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The settlement strategy ID. Default 2.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – Whether to broadcast the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction dict if submit=False, otherwise the tx hash.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_allowance">
<span class="sig-name descname"><span class="pre">get_allowance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_allowance" title="Link to this definition"></a></dt>
<dd><p>Get the allowance for a <code class="docutils literal notranslate"><span class="pre">target_address</span></code> to transfer from <code class="docutils literal notranslate"><span class="pre">address</span></code>. Provide either
a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to choose the synth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_address</strong> (<em>str</em>) – The address for which to check allowance.</p></li>
<li><p><strong>address</strong> (<em>str</em>) – The owner address to check allowance for.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The id of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The allowance in ether.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_balance">
<span class="sig-name descname"><span class="pre">get_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_balance" title="Link to this definition"></a></dt>
<dd><p>Get the balance of a spot synth. Provide either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code>
to choose the synth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<em>str</em><em> | </em><em>None</em>) – The address to check the balance of. If not provided, the
current account will be used.</p></li>
<li><p><strong>market_id</strong> (<em>int</em><em> | </em><em>None</em>) – The id of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the market.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The balance of the synth in ether.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_markets">
<span class="sig-name descname"><span class="pre">get_markets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_markets" title="Link to this definition"></a></dt>
<dd><p>Fetches contracts and metadata about all spot markets on the network. This includes
the market id, synth name, contract address, and the underlying synth contract. Each
synth is an ERC20 token, so these contracts can be used for transfers and allowances.
The metadata is also used to simplify interactions in the SDK by mapping market ids
and names to their metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s1">&#39;sUSDC&#39;</span><span class="p">,</span> <span class="n">submit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This will look up the market id for the sUSDC market and use that to wrap 100 USDC into
sUSDC.</p>
<p>The market metadata is returned from the method as a tuple of two dictionaries. The first
is keyed by <code class="docutils literal notranslate"><span class="pre">market_id</span></code> and the second is keyed by <code class="docutils literal notranslate"><span class="pre">market_name</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">markets_by_name</span>
<span class="go">{ &#39;sUSD&#39;: {&#39;market_id&#39;: 0, &#39;contract&#39;: ...}, ...}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">spot</span><span class="o">.</span><span class="n">markets_by_id</span>
<span class="go">{ &#39;0&#39;: {&#39;market_name&#39;: &#39;sUSD&#39;, &#39;contract&#39;: ...}, ...}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Market info keyed by <code class="docutils literal notranslate"><span class="pre">market_id</span></code> and <code class="docutils literal notranslate"><span class="pre">market_name</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>(dict, dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_order">
<span class="sig-name descname"><span class="pre">get_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_order_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_settlement_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_order" title="Link to this definition"></a></dt>
<dd><p>Get details about an async order by its ID.</p>
<p>Retrieves order details like owner, amount escrowed, settlement strategy, etc.
Can also fetch the full settlement strategy parameters if <code class="docutils literal notranslate"><span class="pre">fetch_settlement_strategy</span></code>
is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_order_id</strong> (<em>int</em>) – The ID of the async order to retrieve.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>fetch_settlement_strategy</strong> (<em>bool</em>) – Whether to fetch the full settlement
strategy parameters. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The order details.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_settlement_strategies">
<span class="sig-name descname"><span class="pre">get_settlement_strategies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_settlement_strategies" title="Link to this definition"></a></dt>
<dd><p>Fetch the settlement strategy id for all spot markets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The id of the settlement strategy to retrieve.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ids of the markets.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The settlement strategy parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.get_settlement_strategy">
<span class="sig-name descname"><span class="pre">get_settlement_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settlement_strategy_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.get_settlement_strategy" title="Link to this definition"></a></dt>
<dd><p>Fetch the settlement strategy for a spot market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settlement_strategy_id</strong> (<em>int</em>) – The id of the settlement strategy to retrieve.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The id of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The settlement strategy parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.settle_order">
<span class="sig-name descname"><span class="pre">settle_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">async_order_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tx_tries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_delay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.settle_order" title="Link to this definition"></a></dt>
<dd><p>Settle an async Pyth order after price data is available.</p>
<p>Fetches the price for the order from Pyth and settles the order.
Retries up to <code class="docutils literal notranslate"><span class="pre">max_tx_tries</span></code> times on failure with a delay of <code class="docutils literal notranslate"><span class="pre">tx_delay</span></code> seconds.</p>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>async_order_id</strong> (<em>int</em>) – The ID of the async order to settle.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market. (e.g. “ETH”)</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>max_tx_tries</strong> (<em>int</em>) – Max retry attempts if price fetch fails.</p></li>
<li><p><strong>tx_delay</strong> (<em>int</em>) – Seconds to wait between retries.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – Whether to broadcast the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction dict if submit=False, otherwise the tx hash.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.spot.Spot.wrap">
<span class="sig-name descname"><span class="pre">wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.spot.Spot.wrap" title="Link to this definition"></a></dt>
<dd><p>Wrap an underlying asset into a synth or unwrap back to the asset.</p>
<p>Wraps an asset into a synth if size &gt; 0, unwraps if size &lt; 0.
The default slippage is set to zero, since the synth and asset can be swapped 1:1.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wrap</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s2">&quot;sUSDC&quot;</span><span class="p">)</span>  <span class="c1"># wrap 100 USDC into sUSDC</span>
<span class="n">wrap</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="n">market_name</span><span class="o">=</span><span class="s2">&quot;sUSDC&quot;</span><span class="p">)</span> <span class="c1"># wrap 100 USDC into sUSDC</span>
</pre></div>
</div>
<p>Requires either a <code class="docutils literal notranslate"><span class="pre">market_id</span></code> or <code class="docutils literal notranslate"><span class="pre">market_name</span></code> to be provided to resolve the market.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em>) – The amount of the asset to wrap/unwrap.</p></li>
<li><p><strong>market_id</strong> (<em>int</em>) – The ID of the market.</p></li>
<li><p><strong>market_name</strong> (<em>str</em>) – The name of the market.</p></li>
<li><p><strong>submit</strong> (<em>bool</em>) – Whether to broadcast the transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transaction dict if submit=False, otherwise the tx hash.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="synthetix.pyth.Pyth">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">synthetix.pyth.</span></span><span class="sig-name descname"><span class="pre">Pyth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_ttl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_service_endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.pyth.Pyth" title="Link to this definition"></a></dt>
<dd><p>Class for interacting with the Pyth price service. The price service is
connected to the endpoint specified as <code class="docutils literal notranslate"><span class="pre">price_service_endpoint</span></code> when
initializing the <code class="docutils literal notranslate"><span class="pre">Synthetix</span></code> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snx</span> <span class="o">=</span> <span class="n">Synthetix</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="n">price_service_endpoint</span><span class="o">=</span><span class="s1">&#39;https://hermes.pyth.network&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If an endpoint isn’t specified, the default endpoint is used. The default
endpoint should be considered unreliable for production applications.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Pyth</span></code> class is used to fetch the latest price update data for a list
of tokens or feed ids:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">price_data_symbol</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">pyth</span><span class="o">.</span><span class="n">get_price_from_symbols</span><span class="p">([</span><span class="s1">&#39;SNX&#39;</span><span class="p">,</span> <span class="s1">&#39;ETH&#39;</span><span class="p">])</span>
<span class="n">price_data_id</span> <span class="o">=</span> <span class="n">snx</span><span class="o">.</span><span class="n">pyth</span><span class="o">.</span><span class="n">get_price_from_ids</span><span class="p">([</span><span class="s1">&#39;0x12345...&#39;</span><span class="p">,</span> <span class="s1">&#39;0xabcde...&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snx</strong> (<a class="reference internal" href="#synthetix.Synthetix" title="synthetix.Synthetix"><em>Synthetix</em></a>) – Synthetix class instance</p></li>
<li><p><strong>price_service_endpoint</strong> (<em>str</em>) – Pyth price service endpoint</p></li>
<li><p><strong>cache_ttl</strong> (<em>int</em>) – Cache time-to-live in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pyth class instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#synthetix.pyth.Pyth" title="synthetix.pyth.Pyth">Pyth</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="synthetix.pyth.Pyth.get_price_from_ids">
<span class="sig-name descname"><span class="pre">get_price_from_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">feed_ids:</span> <span class="pre">[&lt;class</span> <span class="pre">'str'&gt;],</span> <span class="pre">publish_time:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.pyth.Pyth.get_price_from_ids" title="Link to this definition"></a></dt>
<dd><p>Fetch the latest Pyth price data for a list of feed ids. This is the most reliable way to
specify the exact feed you want to fetch data for. The feed ids can be found
in the Pyth price service documentation, or at a price service API. This function
calls the V2 endpoint <code class="docutils literal notranslate"><span class="pre">updates/price/latest</span></code> to fetch the data. Specify a publish time
in order to fetch benchmark data.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">pyth</span><span class="o">.</span><span class="n">get_price_from_ids</span><span class="p">([</span><span class="s1">&#39;0x12345...&#39;</span><span class="p">,</span> <span class="s1">&#39;0xabcde...&#39;</span><span class="p">])</span>
<span class="go">{</span>
<span class="go">    &quot;price_update_data&quot;: [b&#39;...&#39;, b&#39;...&#39;],</span>
<span class="go">    &quot;meta&quot;: {</span>
<span class="go">        &quot;0x12345...&quot;: {</span>
<span class="go">            &quot;symbol&quot;: &quot;ETH&quot;,</span>
<span class="go">            &quot;price&quot;: 2000,</span>
<span class="go">            &quot;publish_time&quot;: 1621203900</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feed_ids</strong> (<em>[</em><em>str</em><em>]</em>) – List of feed ids to fetch data for</p></li>
<li><p><strong>publish_time</strong> (<em>int</em>) – Publish time for benchmark data</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with price update data and metadata</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.pyth.Pyth.get_price_from_symbols">
<span class="sig-name descname"><span class="pre">get_price_from_symbols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">symbols:</span> <span class="pre">[&lt;class</span> <span class="pre">'str'&gt;],</span> <span class="pre">publish_time:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.pyth.Pyth.get_price_from_symbols" title="Link to this definition"></a></dt>
<dd><p>Fetch the latest Pyth price data for a list of market symbols. This
function is the same as <code class="docutils literal notranslate"><span class="pre">get_price_from_ids</span></code> but uses the symbol
to fetch the feed id from the lookup table.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">snx</span><span class="o">.</span><span class="n">pyth</span><span class="o">.</span><span class="n">get_price_from_symbols</span><span class="p">([</span><span class="s1">&#39;ETH&#39;</span><span class="p">,</span> <span class="s1">&#39;BTC&#39;</span><span class="p">])</span>
<span class="go">{</span>
<span class="go">    &quot;price_update_data&quot;: [b&#39;...&#39;, b&#39;...&#39;],</span>
<span class="go">    &quot;meta&quot;: {</span>
<span class="go">        &quot;0x12345...&quot;: {</span>
<span class="go">            &quot;symbol&quot;: &quot;ETH&quot;,</span>
<span class="go">            &quot;price&quot;: 2000,</span>
<span class="go">            &quot;publish_time&quot;: 1621203900</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> (<em>[</em><em>str</em><em>]</em>) – List of symbols to fetch data for</p></li>
<li><p><strong>publish_time</strong> (<em>int</em>) – Publish time for benchmark data</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with price update data and metadata</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="synthetix.pyth.Pyth.update_price_feed_ids">
<span class="sig-name descname"><span class="pre">update_price_feed_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#synthetix.pyth.Pyth.update_price_feed_ids" title="Link to this definition"></a></dt>
<dd><p>Update the price feed IDs for the Pyth price service.
Additionally sets a lookup for feed_id to symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feed_ids</strong> (<em>dict</em>) – Dictionary of feed IDs to update</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../guides/oracle_data.html" class="btn btn-neutral float-left" title="Oracle Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="utils.html" class="btn btn-neutral float-right" title="Utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Synthetix DAO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>